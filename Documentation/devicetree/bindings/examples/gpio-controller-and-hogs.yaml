# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/examples/gpio-controller-and-hogs.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: An Example GPIO Controller with Hogs

maintainers:
  - Rob Herring <robh@kernel.org>
  - Krzysztof Kozlowski <krzk@kernel.org>
  - Conor Dooley <conor@kernel.org>

properties:
  compatible:
    const: test,gpio-controller-and-hogs

  gpio-controller: true

  "#gpio-cells":
    const: 2

  gpio-line-names:
    minItems: 1
    maxItems: 32

  gpio-ranges:
    minItems: 1
    maxItems: 16

  # Not every GPIO controller is an interrupt-controller
  interrupt-controller: true

  "#interrupt-cells":
    const: 2

patternProperties:
  "-hog(-[0-9]+)?$":
    type: object
    required:
      - gpio-hog

required:
  - compatible
  - interrupt-controller
  - "#interrupt-cells"
  - gpio-controller
  - "#gpio-cells"

additionalProperties: false

examples:
  - |
    #include <dt-bindings/gpio/gpio.h>
    #include <dt-bindings/interrupt-controller/arm-gic.h>

    gpio {
        compatible = "test,gpio-controller-and-hogs";

        gpio-controller;
        #gpio-cells = <2>;
        gpio-ranges = <&iomuxc 0 0 32>;
        interrupt-controller;
        #interrupt-cells = <2>;

        usb3-sata-sel-hog {
            gpio-hog;
            gpios = <4 GPIO_ACTIVE_HIGH>;
            line-name = "usb3_sata_sel";
            output-low;
        };
    };
